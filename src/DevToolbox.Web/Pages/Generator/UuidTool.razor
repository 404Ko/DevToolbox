@page "/generator/uuid"
@inject DevToolbox.Web.Services.IGeneratorService GeneratorService

<PageTitle>UUID/GUID ç”Ÿæˆ - DevToolbox</PageTitle>

@* UUIDç”Ÿæˆå·¥å…· (AI Accept) *@
<div class="tool-page">
    <div class="tool-header">
        <h1>ğŸ² UUID/GUID ç”Ÿæˆå™¨</h1>
        <p>ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦</p>
    </div>

    <div class="card">
        <div class="card-header">
            <span>ç”Ÿæˆé€‰é¡¹</span>
        </div>
        <div class="card-body">
            <div class="options-row">
                <div class="option-item">
                    <label>ç”Ÿæˆæ•°é‡ï¼š</label>
                    <input type="number" min="1" max="100" style="width: 80px;" class="form-control"
                           @bind="Count" />
                </div>
                <div class="option-item">
                    <label>æ ¼å¼ï¼š</label>
                    <select class="form-control" style="width: auto;" @bind="Format">
                        <option value="D">æ ‡å‡†æ ¼å¼ (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)</option>
                        <option value="N">æ— è¿å­—ç¬¦ (xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx)</option>
                        <option value="B">å¸¦èŠ±æ‹¬å· ({xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx})</option>
                        <option value="P">å¸¦åœ†æ‹¬å· ((xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx))</option>
                    </select>
                </div>
            </div>
            <div class="options-row" style="margin-top: 12px;">
                <div class="option-item">
                    <input type="checkbox" id="uppercase" @bind="Uppercase" />
                    <label for="uppercase">å¤§å†™</label>
                </div>
            </div>
        </div>
    </div>

    <div class="btn-group" style="margin-top: 20px; justify-content: center;">
        <button class="btn btn-primary" @onclick="Generate">ç”Ÿæˆ</button>
        <button class="btn btn-secondary" @onclick="CopyAll">å¤åˆ¶å…¨éƒ¨</button>
        <button class="btn btn-secondary" @onclick="Clear">æ¸…ç©º</button>
    </div>

    @if (Results.Any())
    {
        <div class="card" style="margin-top: 20px;">
            <div class="card-header">
                <span>ç”Ÿæˆç»“æœ (@Results.Count)</span>
            </div>
            <div class="card-body">
                <ul class="result-list">
                    @foreach (var guid in Results)
                    {
                        <li class="result-item">
                            <code>@(Uppercase ? guid.ToUpper() : guid)</code>
                            <button class="btn btn-sm btn-secondary">å¤åˆ¶</button>
                        </li>
                    }
                </ul>
            </div>
        </div>
    }
</div>

@code {
    // AI Accept [Added]: UUID generator tool
    private int Count { get; set; } = 5;
    private string Format { get; set; } = "D";
    private bool Uppercase { get; set; } = false;
    private List<string> Results { get; set; } = new();

    private void Generate()
    {
        Results = GeneratorService.GenerateMultipleGuids(Count, Format);
    }

    private void CopyAll() { }
    private void Clear() => Results.Clear();
}
